<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Задание на дом - Отгадайте загадку и воссоздайте html структуру странички</title>
</head>
<style>
    table tr td {
        border: black 2px solid;
        padding: 1em;
        font-size: 1em;
        cursor: pointer;
        font-weight: 700;
    }
    table tr td:active {
        background-color: rgb(137, 190, 39);
        color: white;
    }
    .screen {
        border: green 2px solid;
        width: 150px;
        height: 50px;
        padding: .5em;
    }
    .screen span {
        font-size: 1.25em;
    }
    .winner {
        color: green;
    }
    .loser {
        color: red;
    }
</style>
<body>
    <h1>Загадка!</h1>
    <mark>Я загадал число, попробуй его расшифровать! А также попробуй создать точно такую же страничку =)</mark>
    <div>
        <table id="safe">
            <tr>
                <td>1</td>
                <td>2</td>
                <td>3</td>
            </tr>
            <tr>
                <td>4</td>
                <td>5</td>
                <td>6</td>
            </tr>
            <tr>
                <td>7</td>
                <td>8</td>
                <td>9</td>
            </tr>
        </table>
        <button id="safe-button">Ввести пароль</button>
        <div class="screen">
            <b>Ввод: <span id="safescreen"></span></b>
        </div>
    </div>
    <div>
        <strong>Подсказка: </strong>
        <small>Шифр был придуман древнеримским <i>Диктатором!</i></small>
    </div>
</body>


<script>
        var table = document.getElementById("safe");
        var safeScreen = '';
        var screen = document.getElementById("safescreen");
        var button = document.getElementById('safe-button');
        var answ = false;

        if (table != null) {
            for (var i = 0; i < table.rows.length; i++) {
                for (var j = 0; j < table.rows[i].cells.length; j++)
                    table.rows[i].cells[j].onclick = function () {
                        tableText(this);
                    };
            }
        }

        function tableText(tableCell) {
            var numb = tableCell.innerHTML;
            if (answ != true) {
                if (safeScreen.length < 5) {
                    safeScreen += numb;
                    screen.innerHTML = safeScreen;
                } else if (safeScreen.length === 5) {
                    safeScreen = '';
                    screen.innerHTML = '';
                    safeScreen += numb;
                    screen.innerHTML = safeScreen;
                }
            }
        }

        function pwr(number) {
            var result = 0
            for (let i = 0; i < number.length; i++) {
                var el = Number(number[i]);
                result += el ** i
            }
            return result
        }
        button.addEventListener('click', function (e) {
            var pwd = screen.innerHTML;
            if (answ != true) {
                if (pwr(pwd) === 2470) {
                    screen.innerHTML = '<span class="winner">УСПЕХ</span>'
                    answ = true
                } else {
                    screen.innerHTML = '<span class="loser">ПРОВАЛ</span>'
                    safeScreen = '';
                }
            }
        });

        // 85637
</script>
</html>